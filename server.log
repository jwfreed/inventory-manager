âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 31,
  tenantId: null,
  sampleWarehouseIds: [
    '6423d8d0-fd13-4b1f-a24f-5c355b2f1e9e',
    'c1e06d24-3ee8-4eb7-bdd4-4135c68165aa',
    '868efc76-3ade-4fdd-9849-aeadee354fe4',
    '47428934-12a3-43d8-a261-bf0a3c1d1c7d',
    '2f8eaa31-a6e2-4c74-a3f3-d4c0c195d803'
  ],
  sampleTenantIds: [
    'cbb0c81a-d0d3-4b77-885d-fcbb8107137f',
    'ae336cff-19ab-4cfc-a2c5-646a2100f9a0',
    '7931de11-31d8-41b6-b806-088b73b18e08',
    'a5d9719c-c7f6-4615-934b-bf7ae86a7306',
    '59d1fe85-cc3f-4bea-aa62-2d0ff70b1f49'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 31,
  tenantId: null,
  sampleWarehouseIds: [
    '6423d8d0-fd13-4b1f-a24f-5c355b2f1e9e',
    'c1e06d24-3ee8-4eb7-bdd4-4135c68165aa',
    '868efc76-3ade-4fdd-9849-aeadee354fe4',
    '47428934-12a3-43d8-a261-bf0a3c1d1c7d',
    '2f8eaa31-a6e2-4c74-a3f3-d4c0c195d803'
  ],
  sampleTenantIds: [
    'cbb0c81a-d0d3-4b77-885d-fcbb8107137f',
    'ae336cff-19ab-4cfc-a2c5-646a2100f9a0',
    '7931de11-31d8-41b6-b806-088b73b18e08',
    'a5d9719c-c7f6-4615-934b-bf7ae86a7306',
    '59d1fe85-cc3f-4bea-aa62-2d0ff70b1f49'
  ]
}
WAREHOUSE_DEFAULT_REPAIRING {
  tenantId: 'a364e625-e03b-46d5-85c6-8b1ea61a2b66',
  warehouseId: '991883f1-892b-41a4-b0c8-6279684e4ad6',
  role: 'SELLABLE',
  defaultLocationId: 'b97cce4f-9de2-47d2-8b39-2b712418012a',
  mappingId: null,
  reason: 'role_mismatch',
  expected: {
    role: 'SELLABLE',
    warehouse_id: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    parent_location_id: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    type: 'bin',
    is_sellable: true
  },
  actual: {
    role: 'QA',
    warehouse_id: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    parent_location_id: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    type: 'bin',
    is_sellable: false
  }
}
WAREHOUSE_DEFAULT_REPAIRED {
  tenantId: 'a364e625-e03b-46d5-85c6-8b1ea61a2b66',
  warehouseId: '991883f1-892b-41a4-b0c8-6279684e4ad6',
  role: 'SELLABLE',
  defaultLocationId: 'b97cce4f-9de2-47d2-8b39-2b712418012a',
  mappingId: null,
  reason: 'role_mismatch',
  expected: {
    role: 'SELLABLE',
    warehouse_id: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    parent_location_id: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    type: 'bin',
    is_sellable: true
  },
  actual: {
    role: 'QA',
    warehouse_id: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    parent_location_id: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    type: 'bin',
    is_sellable: false
  },
  repaired: {
    tenantId: 'a364e625-e03b-46d5-85c6-8b1ea61a2b66',
    warehouseId: '991883f1-892b-41a4-b0c8-6279684e4ad6',
    role: 'SELLABLE',
    defaultLocationId: 'bdadba1d-a679-4c8f-bcbf-f5917e5e2a25',
    mappingId: null
  }
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 31,
  tenantId: null,
  sampleWarehouseIds: [
    '6423d8d0-fd13-4b1f-a24f-5c355b2f1e9e',
    'c1e06d24-3ee8-4eb7-bdd4-4135c68165aa',
    '868efc76-3ade-4fdd-9849-aeadee354fe4',
    '47428934-12a3-43d8-a261-bf0a3c1d1c7d',
    '2f8eaa31-a6e2-4c74-a3f3-d4c0c195d803'
  ],
  sampleTenantIds: [
    'cbb0c81a-d0d3-4b77-885d-fcbb8107137f',
    'ae336cff-19ab-4cfc-a2c5-646a2100f9a0',
    '7931de11-31d8-41b6-b806-088b73b18e08',
    'a5d9719c-c7f6-4615-934b-bf7ae86a7306',
    '59d1fe85-cc3f-4bea-aa62-2d0ff70b1f49'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

inventory.transfer.posted {
  tenantId: '0ea96539-0994-4091-889a-0b1695a8a940',
  transferId: '9072eacb-4609-4a0d-83ec-e4298a889f84',
  movementId: '9072eacb-4609-4a0d-83ec-e4298a889f84',
  idempotencyKey: 'race-transfer-8ebba583-3e8c-4a9f-a87b-6f454a7d6188',
  replayed: false,
  sourceWarehouseId: '60cde651-91d9-4382-a774-e0a717ddb720',
  destinationWarehouseId: '3df87579-d166-407e-8ad4-b89418bd96fb'
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 31,
  tenantId: null,
  sampleWarehouseIds: [
    '6423d8d0-fd13-4b1f-a24f-5c355b2f1e9e',
    'c1e06d24-3ee8-4eb7-bdd4-4135c68165aa',
    '868efc76-3ade-4fdd-9849-aeadee354fe4',
    '47428934-12a3-43d8-a261-bf0a3c1d1c7d',
    '2f8eaa31-a6e2-4c74-a3f3-d4c0c195d803'
  ],
  sampleTenantIds: [
    'cbb0c81a-d0d3-4b77-885d-fcbb8107137f',
    'ae336cff-19ab-4cfc-a2c5-646a2100f9a0',
    '7931de11-31d8-41b6-b806-088b73b18e08',
    'a5d9719c-c7f6-4615-934b-bf7ae86a7306',
    '59d1fe85-cc3f-4bea-aa62-2d0ff70b1f49'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

inventory.transfer.posted {
  tenantId: 'beeafcb9-bd6d-4560-8562-9bf120cd29d4',
  transferId: '9995d235-3e98-4076-92bc-103093c5713c',
  movementId: '9995d235-3e98-4076-92bc-103093c5713c',
  idempotencyKey: 'retail-transfer-93c9610e-2679-4679-87e4-a4ab94dd8b10',
  replayed: false,
  sourceWarehouseId: 'd3364a08-b459-449a-961b-7e21d62d05d2',
  destinationWarehouseId: '0165deee-f2ea-4dd5-84fc-95d29ee8ba17'
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 31,
  tenantId: null,
  sampleWarehouseIds: [
    '6423d8d0-fd13-4b1f-a24f-5c355b2f1e9e',
    'c1e06d24-3ee8-4eb7-bdd4-4135c68165aa',
    '868efc76-3ade-4fdd-9849-aeadee354fe4',
    '47428934-12a3-43d8-a261-bf0a3c1d1c7d',
    '2f8eaa31-a6e2-4c74-a3f3-d4c0c195d803'
  ],
  sampleTenantIds: [
    'cbb0c81a-d0d3-4b77-885d-fcbb8107137f',
    'ae336cff-19ab-4cfc-a2c5-646a2100f9a0',
    '7931de11-31d8-41b6-b806-088b73b18e08',
    'a5d9719c-c7f6-4615-934b-bf7ae86a7306',
    '59d1fe85-cc3f-4bea-aa62-2d0ff70b1f49'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 31,
  tenantId: null,
  sampleWarehouseIds: [
    '6423d8d0-fd13-4b1f-a24f-5c355b2f1e9e',
    'c1e06d24-3ee8-4eb7-bdd4-4135c68165aa',
    '868efc76-3ade-4fdd-9849-aeadee354fe4',
    '47428934-12a3-43d8-a261-bf0a3c1d1c7d',
    '2f8eaa31-a6e2-4c74-a3f3-d4c0c195d803'
  ],
  sampleTenantIds: [
    'cbb0c81a-d0d3-4b77-885d-fcbb8107137f',
    'ae336cff-19ab-4cfc-a2c5-646a2100f9a0',
    '7931de11-31d8-41b6-b806-088b73b18e08',
    'a5d9719c-c7f6-4615-934b-bf7ae86a7306',
    '59d1fe85-cc3f-4bea-aa62-2d0ff70b1f49'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

inventory.transfer.posted {
  tenantId: 'a0b6bfc2-b24a-45ee-8c02-05cb14f17d5b',
  transferId: '6a0f3d44-340f-41c5-9506-9f6c6d5ac24c',
  movementId: '6a0f3d44-340f-41c5-9506-9f6c6d5ac24c',
  idempotencyKey: 'transfer-idem-5edfcbf6-d643-433b-ba84-aad1d7b315b7',
  replayed: false,
  sourceWarehouseId: '096a589d-df1e-4725-ae53-7a51bb93765d',
  destinationWarehouseId: '80a854eb-85a9-4390-89d7-b232f5a2c7c4'
}
inventory.transfer.posted {
  tenantId: 'a0b6bfc2-b24a-45ee-8c02-05cb14f17d5b',
  transferId: '6a0f3d44-340f-41c5-9506-9f6c6d5ac24c',
  movementId: '6a0f3d44-340f-41c5-9506-9f6c6d5ac24c',
  idempotencyKey: 'transfer-idem-5edfcbf6-d643-433b-ba84-aad1d7b315b7',
  replayed: true,
  sourceWarehouseId: '096a589d-df1e-4725-ae53-7a51bb93765d',
  destinationWarehouseId: '80a854eb-85a9-4390-89d7-b232f5a2c7c4'
}
inventory.transfer.posted {
  tenantId: 'a0b6bfc2-b24a-45ee-8c02-05cb14f17d5b',
  transferId: 'ac1f86db-f6a3-48f6-89cb-9ec2c61511df',
  movementId: 'ac1f86db-f6a3-48f6-89cb-9ec2c61511df',
  idempotencyKey: 'transfer-idem-incomplete-6db366ce-054c-4e7f-9126-58632d328e47',
  replayed: false,
  sourceWarehouseId: '096a589d-df1e-4725-ae53-7a51bb93765d',
  destinationWarehouseId: '80a854eb-85a9-4390-89d7-b232f5a2c7c4'
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 31,
  tenantId: null,
  sampleWarehouseIds: [
    '6423d8d0-fd13-4b1f-a24f-5c355b2f1e9e',
    'c1e06d24-3ee8-4eb7-bdd4-4135c68165aa',
    '868efc76-3ade-4fdd-9849-aeadee354fe4',
    '47428934-12a3-43d8-a261-bf0a3c1d1c7d',
    '2f8eaa31-a6e2-4c74-a3f3-d4c0c195d803'
  ],
  sampleTenantIds: [
    'cbb0c81a-d0d3-4b77-885d-fcbb8107137f',
    'ae336cff-19ab-4cfc-a2c5-646a2100f9a0',
    '7931de11-31d8-41b6-b806-088b73b18e08',
    'a5d9719c-c7f6-4615-934b-bf7ae86a7306',
    '59d1fe85-cc3f-4bea-aa62-2d0ff70b1f49'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 31,
  tenantId: null,
  sampleWarehouseIds: [
    '6423d8d0-fd13-4b1f-a24f-5c355b2f1e9e',
    'c1e06d24-3ee8-4eb7-bdd4-4135c68165aa',
    '868efc76-3ade-4fdd-9849-aeadee354fe4',
    '47428934-12a3-43d8-a261-bf0a3c1d1c7d',
    '2f8eaa31-a6e2-4c74-a3f3-d4c0c195d803'
  ],
  sampleTenantIds: [
    'cbb0c81a-d0d3-4b77-885d-fcbb8107137f',
    'ae336cff-19ab-4cfc-a2c5-646a2100f9a0',
    '7931de11-31d8-41b6-b806-088b73b18e08',
    'a5d9719c-c7f6-4615-934b-bf7ae86a7306',
    '59d1fe85-cc3f-4bea-aa62-2d0ff70b1f49'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...

ğŸ“… Registering scheduled jobs (in-process)...

ğŸ“… Registering scheduled jobs (in-process)...

ğŸ“… Registering scheduled jobs (in-process)...

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed structured: {"code":"EPERM","details":null}
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
Startup failed structured: {"code":"EPERM","details":null}
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}

ğŸ• Starting job scheduler (7 jobs)
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}

ğŸ“… Registering scheduled jobs (in-process)...
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...

ğŸ“… Registering scheduled jobs (in-process)...

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed structured: {"code":"EPERM","details":null}
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
Startup failed structured: {"code":"EPERM","details":null}
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
Startup failed structured: {"code":"EPERM","details":null}
Startup failed: AggregateError
    at /Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async query (/Users/jonathanfreed/Documents/Development/inventory-manager/src/db.ts:45:14)
    at async findOrphanWarehouseRootIssues (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:154:21)
    at async ensureOrphanWarehouseRoots (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:180:18)
    at async ensureWarehouseDefaults (/Users/jonathanfreed/Documents/Development/inventory-manager/src/services/warehouseDefaults.service.ts:711:3)
    at async start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:273:3) {
  code: 'EPERM',
  [errors]: [
    Error: connect EPERM ::1:5432 - Local (:::0)
        at internalConnectMultiple (node:net:1206:16)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '::1',
      port: 5432
    },
    Error: connect EPERM 127.0.0.1:5432 - Local (0.0.0.0:0)
        at internalConnectMultiple (node:net:1206:16)
        at internalConnectMultiple (node:net:1210:5)
        at defaultTriggerAsyncIdScope (node:internal/async_hooks:472:18)
        at GetAddrInfoReqWrap.emitLookup [as callback] (node:net:1552:7)
        at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:134:8) {
      errno: -1,
      code: 'EPERM',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 5432
    }
  ]
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRING {
  orphanCount: 4,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRED {
  orphanCount: 4,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f'
  ],
  createdWarehouseRootsCount: 0,
  createdWarehouseRootIds: [],
  reparentedCount: 0,
  relinkedWarehouseCount: 0,
  skippedRelinkLocalCodeConflictCount: 4,
  remainingCount: 4,
  remainingSampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca'
  ],
  remainingSampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f'
  ]
}
WAREHOUSE_DEFAULT_REPAIRING {
  tenantId: 'f5bfc9a8-ae24-4bac-8087-eeb018db00cd',
  warehouseId: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
  role: 'SELLABLE',
  defaultLocationId: '5c19a9f0-65cf-4473-ad24-0d2cca6d0970',
  mappingId: null,
  reason: 'role_mismatch',
  expected: {
    role: 'SELLABLE',
    warehouse_id: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    parent_location_id: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    type: 'bin',
    is_sellable: true
  },
  actual: {
    role: 'QA',
    warehouse_id: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    parent_location_id: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    type: 'bin',
    is_sellable: false
  }
}
WAREHOUSE_DEFAULT_REPAIRED {
  tenantId: 'f5bfc9a8-ae24-4bac-8087-eeb018db00cd',
  warehouseId: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
  role: 'SELLABLE',
  defaultLocationId: '5c19a9f0-65cf-4473-ad24-0d2cca6d0970',
  mappingId: null,
  reason: 'role_mismatch',
  expected: {
    role: 'SELLABLE',
    warehouse_id: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    parent_location_id: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    type: 'bin',
    is_sellable: true
  },
  actual: {
    role: 'QA',
    warehouse_id: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    parent_location_id: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    type: 'bin',
    is_sellable: false
  },
  repaired: {
    tenantId: 'f5bfc9a8-ae24-4bac-8087-eeb018db00cd',
    warehouseId: '412f9460-0fbe-48ad-bd5e-b0c4a621f1a1',
    role: 'SELLABLE',
    locationId: '8f1a5796-9763-4ef7-9288-1222cb2aedda',
    defaultLocationId: '8f1a5796-9763-4ef7-9288-1222cb2aedda',
    mappingId: null
  }
}
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 4,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRING {
  orphanCount: 5,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRED {
  orphanCount: 5,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ],
  createdWarehouseRootsCount: 0,
  createdWarehouseRootIds: [],
  reparentedCount: 0,
  relinkedWarehouseCount: 0,
  skippedRelinkLocalCodeConflictCount: 5,
  remainingCount: 5,
  remainingSampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  remainingSampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 5,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

inventory.transfer.posted {
  tenantId: '6e2a28f7-1b62-4107-bc59-0b513a3a2835',
  transferId: '70b87334-d84d-4586-b0b8-7a83716f67e4',
  movementId: '70b87334-d84d-4586-b0b8-7a83716f67e4',
  idempotencyKey: 'race-transfer-bbc09f86-02f2-4e63-b544-e407f618632b',
  replayed: false,
  sourceWarehouseId: 'a49b4c32-ac63-4a11-af3e-51df2b56ee8f',
  destinationWarehouseId: '1d1aa6c8-8389-46b9-b077-937aa3c1f7dc'
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRING {
  orphanCount: 5,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRED {
  orphanCount: 5,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ],
  createdWarehouseRootsCount: 0,
  createdWarehouseRootIds: [],
  reparentedCount: 0,
  relinkedWarehouseCount: 0,
  skippedRelinkLocalCodeConflictCount: 5,
  remainingCount: 5,
  remainingSampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  remainingSampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 5,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
Error: listen EADDRINUSE: address already in use :::3000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at Function.listen (/Users/jonathanfreed/Documents/Development/inventory-manager/node_modules/express/lib/application.js:635:24)
    at start (/Users/jonathanfreed/Documents/Development/inventory-manager/src/server.ts:266:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 3000
}
inventory.transfer.posted {
  tenantId: '17ba0712-430e-4ceb-ba58-2d926a871317',
  transferId: '874a2ba4-1b0c-46a0-b1ad-6b642d084f00',
  movementId: '874a2ba4-1b0c-46a0-b1ad-6b642d084f00',
  idempotencyKey: 'retail-transfer-dfdcedc4-81db-4e79-8094-3a9d9eb1d655',
  replayed: false,
  sourceWarehouseId: '8de8d98a-53c9-425e-b79b-f99eb5059e6b',
  destinationWarehouseId: '2e38099c-e6ec-4379-a841-27d95e75ffeb'
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3293
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3293
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3301
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3301
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRING {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRED {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ],
  createdWarehouseRootsCount: 0,
  createdWarehouseRootIds: [],
  reparentedCount: 0,
  relinkedWarehouseCount: 0,
  skippedRelinkLocalCodeConflictCount: 6,
  remainingCount: 6,
  remainingSampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  remainingSampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

inventory.transfer.posted {
  tenantId: '80bc14ea-575f-4ce8-b4b1-44b50c2afd5d',
  transferId: '34503637-ee7f-4aa6-9553-e0acd0dc81c6',
  movementId: '34503637-ee7f-4aa6-9553-e0acd0dc81c6',
  idempotencyKey: 'race-transfer-29ad96db-b382-40d8-9c6a-ae1642004977',
  replayed: false,
  sourceWarehouseId: '3a6a2b8e-821f-48d6-8136-4c0fb83e48f2',
  destinationWarehouseId: 'e122a505-6f22-432f-8b7a-4cd9161f6fa7'
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRING {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRED {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ],
  createdWarehouseRootsCount: 0,
  createdWarehouseRootIds: [],
  reparentedCount: 0,
  relinkedWarehouseCount: 0,
  skippedRelinkLocalCodeConflictCount: 6,
  remainingCount: 6,
  remainingSampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  remainingSampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

inventory.transfer.posted {
  tenantId: '7beea46c-4ffc-4e7f-8151-05dccb99a76e',
  transferId: 'effc8bd6-1c9b-40c4-a7bb-7c4056558cdc',
  movementId: 'effc8bd6-1c9b-40c4-a7bb-7c4056558cdc',
  idempotencyKey: 'retail-transfer-581fc1c7-66e0-4e30-bd9a-d058cf6ce734',
  replayed: false,
  sourceWarehouseId: '46e7cddf-0d69-42fb-b666-5e79d16c0f23',
  destinationWarehouseId: '3f630600-feec-4669-8a16-7dc5c8fd07e0'
}
âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRING {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_ROOTS_REPAIRED {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ],
  createdWarehouseRootsCount: 0,
  createdWarehouseRootIds: [],
  reparentedCount: 0,
  relinkedWarehouseCount: 0,
  skippedRelinkLocalCodeConflictCount: 6,
  remainingCount: 6,
  remainingSampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  remainingSampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}
WAREHOUSE_DEFAULT_ORPHAN_WAREHOUSE_ROOTS_DETECTED {
  orphanCount: 6,
  tenantId: null,
  sampleWarehouseIds: [
    '95f80538-3b5f-4ea5-acfe-339208018e89',
    'a320946b-b322-4674-8765-9415a7d17764',
    'f52844e6-820e-4195-90f8-bc316bd76eee',
    'fe344d94-e8e4-4546-90fb-43e928c2ddca',
    '7481c278-1202-44e2-a123-d991058e2418'
  ],
  sampleTenantIds: [
    '1c488fb3-095f-465d-9a34-cdf285ad1f2e',
    '25d984a3-d5fb-4cf5-8865-0d52117d7482',
    'cc5f1909-b6fd-4a4d-ac12-7b46afd00ebe',
    '4dc58653-234c-41a5-a4f9-4733434b812f',
    '52ea5e25-3f48-4782-b467-a5be9d7fc391'
  ]
}

ğŸš€ Inventory Manager API listening on port 3000
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3166
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3166
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3219
   Environment: test
   Timezone: UTC (for scheduled jobs)

âš ï¸  REDIS_URL not configured - using in-memory cache (not shared across instances)

ğŸ“… Registering scheduled jobs (in-process)...
ğŸ“… Job "metrics-recalculation" scheduled: 0 2 * * * (UTC)
ğŸ“… Job "exchange-rate-sync" scheduled: 0 6 * * * (UTC)
ğŸ“… Job "inventory-health-check" scheduled: 0 * * * * (UTC)
ğŸ“… Job "inventory-invariant-check" scheduled: 30 * * * * (UTC)
ğŸ“… Job "inventory-ledger-reconcile" scheduled: 15 3 * * * (UTC)
ğŸ“… Job "outbox-retention" scheduled: 0 3 * * * (UTC)
ğŸ“… Job "reservation-expiry" scheduled: */15 * * * * (UTC)

ğŸ• Starting job scheduler (7 jobs)

ğŸš€ Inventory Manager API listening on port 3219
   Environment: test
   Timezone: UTC (for scheduled jobs)

